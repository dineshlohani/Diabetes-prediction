{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Diabetes Prediction System using advanced machine learning algorithms for accurate health predictions."
    />
    <meta
      name="keywords"
      content="Diabetes, Health Prediction, Machine Learning, AI, Healthcare"
    />
    <meta name="author" content="Dinesh Lohani" />
    <meta property="og:title" content="Diabetes Prediction System" />
    <meta
      property="og:description"
      content="Predict diabetes levels and get healthcare recommendations."
    />
    <meta
      property="og:image"
      content="{% static 'DiabetesPrediction/images/diabetes.png' %}"
    />
    <meta property="og:url" content="http://www.yourwebsite.com" />
    <meta property="og:type" content="website" />
    <meta name="twitter:title" content="Diabetes Prediction System" />
    <meta
      name="twitter:description"
      content="Predict diabetes levels and get healthcare recommendations."
    />
    <meta
      name="twitter:image"
      content="{% static 'DiabetesPrediction/images/diabetes.png' %}"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <link
      rel="icon"
      href="{% static 'DiabetesPrediction/images/diabetes.png' %}"
      type="image/png"
    />
    <title>Predict Page</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <style>
      body {
        background-image: url("{% static 'DiabetesPrediction/images/img2.jpg'%}");
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
        color: white;
        padding: 5px;
      }

      .main {
        background-color: rgba(74, 102, 118, 0.9);
        border-radius: 10px;
        padding: 20px;
        margin: 20px auto;
        max-width: 600px;
      }

      h1 {
        color: #f2f5f6;
        font-size: 24px;
        font-weight: bold;
        text-align: center;
      }

      h3 {
        color: yellow;
        font-size: 28px;
        font-weight: bold;
        text-align: center;
        margin-top: 20px;
      }

      input[type="text"] {
        width: 100%;
        padding: 5px;
        margin: 1px 0;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      input[type="submit"] {
        background-color: #0f9adf;
        border: none;
        color: white;
        padding: 10px 20px;
        cursor: pointer;
        margin-top: 15px;
        width: 100%;
        border-radius: 5px;
      }

      button {
        background-color: #0f9adf;
        border: none;
        color: white;
        padding: 10px 20px;
        cursor: pointer;
        margin-top: 10px;
        width: 100%;
        border-radius: 5px;
      }

      table {
        width: 100%;
      }

      th,
      td {
        padding: 5px;
        text-align: left;
      }

      /* Home Button Styles */
      .home-button {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: #0f9adf;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
      }

      .home-button:hover {
        background-color: #0d87c5;
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 20px;
        }

        h3 {
          font-size: 24px;
        }

        .main {
          padding: 15px;
        }

        input[type="submit"],
        button {
          padding: 8px 16px;
        }

        .home-button {
          top: 10px;
          right: 10px;
          padding: 8px 16px;
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 18px;
        }

        h3 {
          font-size: 20px;
        }

        .main {
          padding: 10px;
        }

        input[type="submit"],
        button {
          padding: 6px 12px;
        }

        .home-button {
          top: 5px;
          right: 5px;
          padding: 6px 12px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Home Button -->
    <a href="/" class="home-button">Home</a>

    <h3>Predict Your Diabetes</h3>
    <div class="main">
      <h1>Please enter the following information:</h1>
      <form action="result">
        <table>
          <tr>
            <td>Pregnancies:</td>
            <td>
              <input
                type="text"
                required
                name="n1"
                placeholder="insert Pregnancies 0-17"
                pattern="^(1[0-7]|[0-9])$"
                min="0"
                max="17"
              />
            </td>
          </tr>
          <tr>
            <td>Glucose:</td>
            <td>
              <input
                type="text"
                required
                name="n2"
                placeholder="insert Glucose 0-200"
                pattern="^(?:[0-9]|[1-9][0-9]|1[0-9]{2}|200)$"
              />
            </td>
          </tr>
          <tr>
            <td>BloodPressure:</td>
            <td>
              <input
                type="text"
                required
                name="n3"
                placeholder="insert BloodPressure 0-122"
                pattern="^([0-9]|[1-9][0-9]|1[01][0-9]|12[0-2])$"
              />
            </td>
          </tr>
          <tr>
            <td>SkinThickness:</td>
            <td>
              <input
                type="text"
                required
                name="n4"
                placeholder="insert SkinThickness 0-99"
                pattern="^(?:[0-9]|[1-8][0-9]|9[0-9]|[0-9]+\.[0-9]+)$"
              />
            </td>
          </tr>
          <tr>
            <td>Insulin:</td>
            <td>
              <input
                type="text"
                required
                name="n5"
                placeholder="insert Insulin 0-846"
                pattern="^(\d{1,2}|[1-7]\d{2}|8[0-3]\d|846)(\.\d{1,2})?$"
              />
            </td>
          </tr>
          <tr>
            <td>BMI:</td>
            <td>
              <input
                type="text"
                required
                name="n6"
                placeholder="insert BMI 0-67"
                pattern="^(?:\d{1,2}(?:\.\d{1,2})?|6[0-7](?:\.\d{1,2})?|0?\.\d{1,2})$"
              />
            </td>
          </tr>
          <tr>
            <td>DiabetesPedigreeFunction:</td>
            <td>
              <input
                type="text"
                required
                name="n7"
                placeholder="insert DPF 0.078-2.42"
                pattern="^(2\.42|2\.4[0-1]\d|2\.[0-3]\d{2}|1\.\d{1,3}|0\.(?=[1-9])[0-9]{1,3}|0\.0\d{1,3}|0\.00[1-9][0-9]?|0\.000[1-9])$"
              />
            </td>
          </tr>
          <tr>
            <td>Age:</td>
            <td>
              <input
                type="text"
                required
                name="n8"
                placeholder="insert Age 21-81"
                pattern="(2[1-9]|[3-7][0-9]|8[0-1])"
                maxlength="2"
              />
            </td>
          </tr>
        </table>
        <input type="submit" value="Submit" />
      </form>

      <p>Result: <b>{{result2}}</b></p>
      <p>Message: <b>{{result3}}</b></p>

      <button type="button" class="btn btn-info" onclick="showAccuracy()">
        Show Accuracy
      </button>
      <button type="button" class="btn btn-info" onclick="correlation()">
        Show Accuracy Comparison
      </button>

      <table id="accuracyTable" style="display: none">
        <tr>
          <th>Accuracy:</th>
          <td><b>{{accuracy}}%</b></td>
        </tr>
      </table>

      <table id="correlationTable" style="display: none">
        <tr>
          <th>Accuracy Graph:</th>
        </tr>
        <tr>
          <td>
            <img
              src="data:image/png;base64,{{ uri3 }}"
              alt="Accuracy Comparison Plot"
              style="width: 100%"
            />
          </td>
        </tr>
      </table>

      <table id="Comparison" style="display: none">
        <tr>
          <th>Confusion Matrix of Logistic And Linear Regression:</th>
        </tr>
        <tr>
          <td>
            <img
              src="data:image/png;base64,{{ uri2 }}"
              alt="Logistic and Linear Regression Confusion Matrix"
              style="width: 100%"
            />
          </td>
        </tr>
      </table>

      <script>
        function showAccuracy() {
          const table = document.getElementById("accuracyTable");
          if (table.style.display === "none") {
            table.style.display = "table";
          } else {
            table.style.display = "none";
          }
        }

        function correlation() {
          const table = document.getElementById("correlationTable");
          if (table.style.display === "none") {
            table.style.display = "table";
          } else {
            table.style.display = "none";
          }
        }

        function graph() {
          const table = document.getElementById("Comparison");
          if (table.style.display === "none") {
            table.style.display = "table";
          } else {
            table.style.display = "none";
          }
        }
      </script>
    </div>
  </body>
</html>
